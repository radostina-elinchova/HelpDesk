@using HelpDeskApp.ViewModels.Models.Project
@model IEnumerable<ProjectIndexVM>

@{
    ViewData["Title"] = "Projects";
}

<div class="odoo-container">
    <div class="odoo-action-bar">
        <h3>@ViewData["Title"]</h3>

        <a asp-controller="Project"
           asp-action="Create"
           class="btn odoo-btn-primary">
            + Create
        </a>
    </div>

    <div class="odoo-kanban">
        @if (Model != null && Model.Any())
        {
            @foreach (var project in Model)
            {
                <div class="odoo-kanban-card">
                    <div class="odoo-kanban-header">
                        <span class="odoo-kanban-title">
                            @project.ProjectName
                        </span>
                    </div>

                    <div class="odoo-kanban-body">
                        <p class="odoo-kanban-description">
                            @project.Description
                        </p>
                    </div>

                    <div class="odoo-kanban-footer">
                        <a asp-action="Details"
                           asp-route-id="@project.Id"
                           class="odoo-link">
                            Open
                        </a>

                        <a asp-action="Edit"
                           asp-route-id="@project.Id"
                           class="odoo-link">
                            Edit
                        </a>

                        <a asp-action="Delete"
                           asp-route-id="@project.Id"
                           class="odoo-link odoo-link-danger">
                            Delete
                        </a>
                    </div>
                </div>
            }
        }
        else
        {
            <div class="odoo-no-data text-center p-5">
                <h4 class="text-muted">Още няма проекти</h4>
                <p>Кликнете върху бутона "Create", за да добавите първия си проект.</p>
            </div>
        }
    </div>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}